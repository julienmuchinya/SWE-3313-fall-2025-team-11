<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Payment Confirmation</title>
    <link rel="stylesheet" th:href="@{/css/confirm-payment.css}">
</head>

<body>

<div class="header">
    <a th:href="@{/}" class="back-btn">Back</a>
    <span class="logo">RAS</span>
</div>

<div class="container">

    <div class="confirmation-box">
        <div class="check-icon">âœ“</div>

        <h2>Payment Confirmation</h2>

        <div class="details">
            <div class="row">
                <span>Number of Items:</span>
                <span th:text="${order.items.size()}">0</span>
            </div>

            <div class="row">
                <span>Subtotal:</span>
                <span>$<span th:text="${#numbers.formatDecimal(order.totalAmount != null ? order.totalAmount : 0, 0, 2)}">0.00</span></span>
            </div>

            <div class="row">
                <span>Discount:</span>
                <span>$00.00</span>
            </div>

            <div class="row">
                <span>Shipping Fee:</span>
                <span>$<span th:text="${order.payment != null && order.payment.shippingFee != null ? #numbers.formatDecimal(order.payment.shippingFee, 0, 2) : '0.00'}">0.00</span></span>
            </div>

            <div class="row">
                <span>Sales Tax:</span>
                <span>$<span th:text="${order.payment != null && order.payment.amount != null && order.payment.shippingFee != null ? #numbers.formatDecimal(order.payment.amount.subtract(order.payment.shippingFee).subtract(order.totalAmount), 0, 2) : '0.00'}">0.00</span></span>
            </div>

            <br>

            <div class="row total">
                <span>Order Total:</span>
                <span>$<span th:text="${#numbers.formatDecimal(order.totalAmount != null ? order.totalAmount : 0, 0, 2)}">0.00</span></span>
            </div>

        </div>

    </div>

    <div class="button-container">
        <form th:action="@{/order/complete}" method="post">
            <button class="complete-btn" type="submit">COMPLETE ORDER</button>
        </form>
    </div>

</div>

</body>
</html>
